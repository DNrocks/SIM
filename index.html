<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>College Suggestion System</title>
</head>
<body style="font-family: sans-serif; margin: 40px;">
<h2>College Suggestion System</h2>

<form id="collegeForm">
  <label>Stream / Subjects of interest:</label><br>
  <input type="text" id="stream" required><br><br>

  <label>Entrance exams (JEE, NEET, CUET, etc.):</label><br>
  <input type="text" id="exam" required><br><br>

  <label>Budget / Financial condition:</label><br>
  <input type="text" id="budget" required><br><br>

  <label>Preferred location:</label><br>
  <input type="text" id="location" required><br><br>

  <label>Career goals / preferred field:</label><br>
  <input type="text" id="career" required><br><br>

  <label>Co-curricular activities:</label><br>
  <input type="text" id="activities"><br><br>

  <label>Mode of study preference (Online / Offline / Hybrid):</label><br>
  <input type="text" id="mode" required><br><br>

  <button type="submit">Submit</button>
</form>

<hr>
<h3>Suggested Colleges:</h3>
<pre id="output" style="white-space: pre-wrap;"></pre>

<script>
const API_KEY = "AIzaSyBBtx9h-ROknfgpl4mCA1GH7yVAgyzDWvI"; // <-- replace with your key

document.getElementById("collegeForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const output = document.getElementById("output");
  output.textContent = "Processing your inputs...";

  const data = {
    stream: document.getElementById("stream").value,
    exam: document.getElementById("exam").value,
    budget: document.getElementById("budget").value,
    location: document.getElementById("location").value,
    career: document.getElementById("career").value,
    activities: document.getElementById("activities").value,
    mode: document.getElementById("mode").value
  };

  const prompt = `
You are an expert academic advisor. Based on the following details, suggest 5 ideal colleges in India.
Provide output in this exact format:
1) College Name
   - Rank: (1 to 5)
   - Reason for suggestion: (one short paragraph)

Details:
${JSON.stringify(data, null, 2)}
`;

  try {
    const response = await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=" + API_KEY, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        contents: [{ parts: [{ text: prompt }] }]
      })
    });

    const result = await response.json();
    const text = result?.candidates?.[0]?.content?.parts?.[0]?.text || "No response.";
    output.textContent = text.trim();
  } catch (error) {
    output.textContent = "Error: " + error;
  }
});
</script>

</body>
</html>
